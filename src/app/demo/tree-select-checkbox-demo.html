<div class="card flex justify-content-center">
  <p-treeSelect
    #treeselect
    class="w-full md"
    containerStyleClass="w-full"
    [(ngModel)]="selectedNodes"
    [options]="nodes"
    [metaKeySelection]="false"
    selectionMode="checkbox"
    placeholder="Select Item"
    [filter]="true"
    [showClear]="true"
    [emptyMessage]="'არ მოიძებნა ლოკაცია'"
    [resetFilterOnHide]="true"
    (onNodeSelect)="onSelectNode($event)"
    (onNodeUnselect)="onUnSelectNode($event)"
    (onClear)="onClear()"
    (onHide)="onHide($event)"
    (onShow)="onShow($event)">
    
    <ng-template pTemplate="triggericon">
      <span class="pi pi-angle-up" *ngIf="getTreeSelectStatus()"></span>
      <span class="pi pi-angle-down" *ngIf="!getTreeSelectStatus()"></span>
    </ng-template>

    <ng-template pTemplate="value" let-node> {{getText()}} </ng-template>

    <!--<ng-template pTemplate="itemcheckboxicon">
      <span class="pi pi-check"></span>
    </ng-template>-->

    <ng-template pTemplate="footer">
      <div class="flex justify-content-center" style="padding-bottom: 8px; gap: 1rem">
        <button
          pButton
          type="button"
          label="გასუფთავება"
          class="p-button-danger"
          (click)="onReset()"
        ></button>
        <button
          pButton
          pRipple
          type="button"
          class="p-button-success"
          label="დადასტურება"
          (click)="onApprove()"
        ></button>
      </div>
    </ng-template>
  </p-treeSelect>
</div>
